{"version":3,"sources":["components/SynthControls.js","components/KeyboardInfo.js","components/MaqamNoteDisplay.js","components/MaqamSynth.js","App.js","index.js"],"names":["SynthControls","_ref","currentMaqam","setCurrentMaqam","tMaqamsIntervals","rootNoteOffset","setRootNoteOffset","oscillatorType","setOscillatorType","attack","setAttack","decay","setDecay","sustain","setSustain","release","setRelease","delayAmount","setDelayAmount","delayFeedback","setDelayFeedback","reverbAmount","setReverbAmount","React","createElement","className","htmlFor","id","value","onChange","e","target","Object","keys","map","maqam","key","type","min","max","step","parseInt","name","checked","parseFloat","toFixed","KeyboardInfo","MaqamNoteDisplay","maqamNotes","frequencyToNoteName","activeNotes","Map","note","index","isActive","Array","from","values","some","activeFreq","Math","abs","concat","Rast","Nahawand","HicazUzzalHumayun","Hicazkar","Yegah","SultaniyegahRuhnevaz","FerahnumaAskefza","Sedaraban","Huseyniasiran","Suzidil","Acemasiran","Sevkefza","Iraq","EvicSegah","Ferahnak","Evicara","Mahur","Suzidilara","Buzurk","Suzinak","ZirguleliSuzinak","Kurdilihicazkar","Nihavend","Neveser","Nikriz","HuseyniMuhayyer","GulizarBeyati","UssakAcem","Kurdi","Buselik","Arazbar","Zirgule","Sehnaz","SabaSunbule","Kucek","EskiSipihr","Dugah","Hisar","YeniSipihr","Nisaburek","Huzzam","Mustear","MayeYeniMaye","VechiArazbar","Nisabur","CargahI","CargahII","Araban","Urmawi","frequency","midiNote","log2","roundedMidiNote","round","cents","noteName","octave","floor","MaqamSynth","synth","useRef","gainNode","delayEffect","reverbEffect","limiter","useState","setMaqamNotes","calculateMaqamFrequencies","useCallback","maqamName","rootFrequency","arguments","length","undefined","ratio","console","warn","maqamFrequencies","currentFreq","i","pow","push","fullMaqamScale","oct","forEach","freq","sort","a","b","useEffect","current","Tone","set","wet","oscillator","envelope","chain","startAudio","state","log","document","removeEventListener","addEventListener","newRootFrequency","newNotes","n","feedback","triggerAttack","has","triggerRelease","get","delete","baseOctaveKeys","octaveDownKeys","octaveUpKeys","handleKeyDown","_tMaqamsIntervals$cur","toLowerCase","includes","preventDefault","currentMaqamScaleLength","baseKeyIndex","octaveSlot","indexOf","absoluteNoteIndex","handleKeyUp","window","clear","App","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.5f8aa9db.chunk.js","sourcesContent":["import React from 'react';\n\nconst SynthControls = ({ \n  currentMaqam, setCurrentMaqam, tMaqamsIntervals,\n  rootNoteOffset, setRootNoteOffset,\n  oscillatorType, setOscillatorType,\n  attack, setAttack, decay, setDecay, sustain, setSustain, release, setRelease,\n  delayAmount, setDelayAmount, delayFeedback, setDelayFeedback,\n  reverbAmount, setReverbAmount\n}) => {\n  return (\n    <div className=\"synth-controls-container\">\n      {/* Maqam Selection */}\n      <div className=\"control-group\">\n        <label htmlFor=\"maqam-select\">Select Maqam:</label>\n        <select\n          id=\"maqam-select\"\n          value={currentMaqam}\n          onChange={(e) => setCurrentMaqam(e.target.value)}\n        >\n          {Object.keys(tMaqamsIntervals).map((maqam) => (\n            <option key={maqam} value={maqam}>{maqam}</option>\n          ))}\n        </select>\n      </div>\n\n      {/* Root Note Offset (Octave Shift for the whole Maqam) */}\n      <div className=\"control-group\">\n        <label htmlFor=\"root-offset-slider\">Root Octave Offset:</label>\n        <input\n          id=\"root-offset-slider\"\n          type=\"range\"\n          min=\"-2\"\n          max=\"2\"\n          step=\"1\"\n          value={rootNoteOffset}\n          onChange={(e) => setRootNoteOffset(parseInt(e.target.value))}\n        />\n        <span>{rootNoteOffset}</span>\n      </div>\n\n      {/* Oscillator Type Selection */}\n      <div className=\"control-group\">\n        <label>Oscillator Type:</label>\n        <div className=\"radio-group\">\n          <input type=\"radio\" id=\"sine\" name=\"oscType\" value=\"sine\" checked={oscillatorType === 'sine'} onChange={(e) => setOscillatorType(e.target.value)} /><label htmlFor=\"sine\">Sine</label>\n          <input type=\"radio\" id=\"sawtooth\" name=\"oscType\" value=\"sawtooth\" checked={oscillatorType === 'sawtooth'} onChange={(e) => setOscillatorType(e.target.value)} /><label htmlFor=\"sawtooth\">Sawtooth</label>\n          <input type=\"radio\" id=\"triangle\" name=\"oscType\" value=\"triangle\" checked={oscillatorType === 'triangle'} onChange={(e) => setOscillatorType(e.target.value)} /><label htmlFor=\"triangle\">Triangle</label>\n          <input type=\"radio\" id=\"square\" name=\"oscType\" value=\"square\" checked={oscillatorType === 'square'} onChange={(e) => setOscillatorType(e.target.value)} /><label htmlFor=\"square\">Square</label>\n        </div>\n      </div>\n\n      {/* ADSR Controls */}\n      <div className=\"control-group adsr-controls\">\n        <h3>Envelope (ADSR)</h3>\n        <div className=\"control-item\">\n          <label htmlFor=\"attack-slider\">Attack:</label>\n          <input type=\"range\" id=\"attack-slider\" min=\"0.001\" max=\"2\" step=\"0.001\" value={attack} onChange={(e) => setAttack(parseFloat(e.target.value))} />\n          <span>{attack.toFixed(3)}s</span>\n        </div>\n        <div className=\"control-item\">\n          <label htmlFor=\"decay-slider\">Decay:</label>\n          <input type=\"range\" id=\"decay-slider\" min=\"0.01\" max=\"2\" step=\"0.01\" value={decay} onChange={(e) => setDecay(parseFloat(e.target.value))} />\n          <span>{decay.toFixed(2)}s</span>\n        </div>\n        <div className=\"control-item\">\n          <label htmlFor=\"sustain-slider\">Sustain:</label>\n          <input type=\"range\" id=\"sustain-slider\" min=\"0\" max=\"1\" step=\"0.01\" value={sustain} onChange={(e) => setSustain(parseFloat(e.target.value))} />\n          <span>{sustain.toFixed(2)}</span>\n        </div>\n        <div className=\"control-item\">\n          <label htmlFor=\"release-slider\">Release:</label>\n          <input type=\"range\" id=\"release-slider\" min=\"0.01\" max=\"3\" step=\"0.01\" value={release} onChange={(e) => setRelease(parseFloat(e.target.value))} />\n          <span>{release.toFixed(2)}s</span>\n        </div>\n      </div>\n\n      {/* Delay Control */}\n      <div className=\"control-group\">\n        <label htmlFor=\"delay-slider\">Delay (Wet Mix):</label>\n        <input\n          id=\"delay-slider\"\n          type=\"range\"\n          min=\"0\"\n          max=\"1\"\n          step=\"0.01\"\n          value={delayAmount}\n          onChange={(e) => setDelayAmount(parseFloat(e.target.value))}\n        />\n        <span>{delayAmount.toFixed(2)}</span>\n      </div>\n      <div className=\"control-group\">\n        <label htmlFor=\"delay-feedback-slider\">Delay Feedback:</label>\n        <input\n          id=\"delay-feedback-slider\"\n          type=\"range\"\n          min=\"0\"\n          max=\"0.95\"\n          step=\"0.01\"\n          value={delayFeedback}\n          onChange={(e) => setDelayFeedback(parseFloat(e.target.value))}\n        />\n        <span>{delayFeedback.toFixed(2)}</span>\n      </div>\n\n      {/* Reverb Control */}\n      <div className=\"control-group\">\n        <label htmlFor=\"reverb-slider\">Reverb (Wet Mix):</label>\n        <input\n          id=\"reverb-slider\"\n          type=\"range\"\n          min=\"0\"\n          max=\"1\"\n          step=\"0.01\"\n          value={reverbAmount}\n          onChange={(e) => setReverbAmount(parseFloat(e.target.value))}\n        />\n        <span>{reverbAmount.toFixed(2)}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default SynthControls;","import React from 'react';\n\nconst KeyboardInfo = () => {\n  return (\n    <div className=\"keyboard-info\">\n      <p>Base Octave: <kbd>a</kbd><kbd>s</kbd><kbd>d</kbd><kbd>f</kbd><kbd>g</kbd><kbd>h</kbd><kbd>j</kbd><kbd>k</kbd><kbd>l</kbd><kbd>ş</kbd></p>\n      <p>Octave Down: <kbd>z</kbd><kbd>x</kbd><kbd>c</kbd><kbd>v</kbd><kbd>b</kbd><kbd>n</kbd><kbd>m</kbd><kbd>ö</kbd><kbd>ç</kbd></p>\n      <p>Octave Up: <kbd>q</kbd><kbd>w</kbd><kbd>e</kbd><kbd>r</kbd><kbd>t</kbd><kbd>y</kbd><kbd>u</kbd><kbd>ı</kbd><kbd>o</kbd></p>\n    </div>\n  );\n};\n\nexport default KeyboardInfo;","import React from 'react';\n\nconst MaqamNoteDisplay = ({ maqamNotes, frequencyToNoteName, activeNotes = new Map() }) => {\n  return (\n    <div className=\"note-display-section\">\n      <h2>Maqam Notes:</h2>\n      <div className=\"note-grid\">\n        {maqamNotes.map((note, index) => {\n          // Check if this note frequency is currently being played\n          const isActive = Array.from(activeNotes.values()).some(\n            activeFreq => Math.abs(activeFreq - note) < 0.01\n          );\n          \n          return (\n            <span \n              key={index} \n              className={`note-button ${isActive ? 'active' : ''}`}\n            >\n              {frequencyToNoteName(note)}\n            </span>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default MaqamNoteDisplay;","import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport * as Tone from 'tone';\nimport SynthControls from './SynthControls';\nimport KeyboardInfo from './KeyboardInfo';\nimport MaqamNoteDisplay from './MaqamNoteDisplay';\nimport './MaqamSynth.css';\n\n// --- Global Maqam Data (constants) ---\nconst ROOT_FREQUENCY = 110; // Root frequency, likely A1 in Hz\nconst MICROTONAL_SIZE = 53; // Number of steps in the equal temperament system (53-TET)\n\n// The dictionary of Turkish Maqams intervals in 53-TET steps\nconst tMaqamsIntervals = {\n    Rast: [9,8,5,9,9,4,4,5], Nahawand: [9,4,9,9,4,9,9], HicazUzzalHumayun: [5,12,5,9,4,4,5,9], Hicazkar: [5,12,5,9,5,3,5,4,5], Yegah: [9,8,5,9,8,4,4,5], SultaniyegahRuhnevaz: [9,4,9,9,4,9,4,5], FerahnumaAskefza: [4,9,9,9,4,9,9], Sedaraban: [5,12,5,9,5,8,4,5], Huseyniasiran: [8,5,9,8,5,9,9], Suzidil: [5,1,5,4 ,4,5,4,5], Acemasiran: [9,9,4,4,5,9,9,4], Sevkefza: [9,5,4,4,4,5,5,13,4], Iraq: [5,9,8,5,9,9,4,4],EvicSegah: [5,9,8,5,4,5,9,4,4], Ferahnak: [5,9,8,1,4,4,5,9,4, 4], Evicara: [5,13,4,9,5,13,4], Mahur: [9,9,4,9,9,4,5,4], Suzidilara: [9,5,4,4,4 ,5,9,4,5,4], Buzurk: [9,9,4,4,5,9,4,4,5], Suzinak: [5,4,4,4,5,9,4,9,9], ZirguleliSuzinak: [5,12,5,5,4,4,4,5,9], Kurdilihicazkar: [4,1,4,4,4,5,9,4,4,5], Nihavend: [9,4,9,5,4,4,5,8,5], Neveser: [9,5,12,5,5,12,5], Nikriz: [9,5,12,5,9,4 ,4,5], HuseyniMuhayyer:[8,5,9,9,4,4,5,9], GulizarBeyati: [8,5,9,5,4,4,4,5,9], UssakAcem: [8,5,9,9,4,9,9],\n    Kurdi: [4,4,1,4,9,4,5,4,9,9], Buselik: [9,4,9,5,4,4,4,5,4,5], Arazbar: [8,5,9,5,3,1,4,4,5,9],  Zirgule: [5,12,5,9,4,1,8,4,5], Sehnaz: [5,12,5,9,4,1,3,5,4,5], SabaSunbule: [8,5,5,13,4,9,9],  Kucek: [8,5,5,13,4,4,5,5,4], EskiSipihr: [8,5,5,1,3,9,4,4,5,4,5],  Dugah:[4,4,5,4,1,13,4,9,9],\n    Hisar: [8,5,9,4,5,4,1,8,4,5], YeniSipihr: [5,3,5,4,5,4,5,4,1,3,5,4,5], Nisaburek: [9,8,5,9,5,8,9], Huzzam: [5,9,5,12, 5,9,4,4], Mustear: [9,5,8,9,5,9,4,4], MayeYeniMaye: [5,9,8,1,4,9,9,8], VechiArazbar: [1,4,9,8,5,9,9,3,5], Nisabur: [8,5,9,4,9,9,4,5],  CargahI: [5,13,4,9,5,12,5], CargahII: [9,9,4,9,9,9,4], Araban: [5,8,13,5,5,8,4,5], Urmawi: [9,8,5,9,9,5,8]\n};\n\n// Helper function to convert frequency to a musical note name (e.g., A4, C#5)\n// Helper function to convert frequency to Turkish Maqam note name\nconst frequencyToNoteName = (frequency) => {\n  const A4 = 440; // A4 frequency\n  const A4_MIDI = 69; // MIDI note number for A4\n\n  // Calculate MIDI note number\n  const midiNote = 12 * (Math.log2(frequency / A4)) + A4_MIDI;\n  \n  // Round to the nearest integer for standard notes, or keep decimal for microtonal\n  const roundedMidiNote = Math.round(midiNote);\n  const cents = Math.round((midiNote - roundedMidiNote) * 100);\n\n  // Turkish note names according to Nail Yavuzoğlu's theory\n  const turkishNoteNames = [\n    \"Do\", // C\n    \"Do♯\", // C#\n    \"Re\", // D\n    \"Re♯\", // D#\n    \"Mi\", // E\n    \"Fa\", // F\n    \"Fa♯\", // F#\n    \"Sol\", // G\n    \"Sol♯\", // G#\n    \"La\", // A\n    \"La♯\", // A#\n    \"Si\"  // B\n  ];\n\n  // Special symbols for microtonal intervals\n  let noteName = turkishNoteNames[roundedMidiNote % 12];\n  const octave = Math.floor(roundedMidiNote / 12) - 1; // MIDI note 0 is C-1\n  \n  // Add microtonal symbols if needed\n  if (Math.abs(cents) > 10 && Math.abs(cents) < 90) {\n    if (cents > 0) {\n      noteName += \"↑\"; // Up arrow for slightly sharp\n    } else {\n      noteName += \"↓\"; // Down arrow for slightly flat\n    }\n  }\n\n  return `${noteName}${octave}`;\n};\n\nconst MaqamSynth = () => {\n  const synth = useRef(null);\n  const gainNode = useRef(null);\n  const delayEffect = useRef(null);\n  const reverbEffect = useRef(null);\n  const limiter = useRef(null); // Add a limiter to prevent clipping\n\n  // --- State for Synth Parameters ---\n  const [oscillatorType, setOscillatorType] = useState('sine');\n  const [attack, setAttack] = useState(0.01); // Default attack\n  const [decay, setDecay] = useState(0.2);   // Default decay\n  const [sustain, setSustain] = useState(0.5); // Default sustain\n  const [release, setRelease] = useState(1.0);  // Default release\n\n  // --- State for Effects ---\n  const [delayAmount, setDelayAmount] = useState(0);\n  const [delayFeedback, setDelayFeedback] = useState(0.5); // New: Delay Feedback\n  const [reverbAmount, setReverbAmount] = useState(0);\n\n  // --- Maqam related states ---\n  const [currentMaqam, setCurrentMaqam] = useState('Rast');\n  const [maqamNotes, setMaqamNotes] = useState([]);\n  const [rootNoteOffset, setRootNoteOffset] = useState(0);\n\n  // Keep track of currently pressed keys to handle sustained notes\n  const activeNotes = useRef(new Map()); // Map: key -> frequency\n\n  // --- Maqam Calculation Logic ---\n  const calculateMaqamFrequencies = useCallback((maqamName, rootFrequency = ROOT_FREQUENCY) => {\n    const ratio = tMaqamsIntervals[maqamName];\n\n    if (!ratio) {\n      console.warn(`Maqam \"${maqamName}\" not found in intervals dictionary.`);\n      return [];\n    }\n\n    const maqamFrequencies = [rootFrequency];\n    let currentFreq = rootFrequency;\n\n    for (let i = 0; i < ratio.length; i++) {\n      currentFreq *= Math.pow(2, (ratio[i] / MICROTONAL_SIZE));\n      maqamFrequencies.push(currentFreq);\n    }\n\n    const fullMaqamScale = [];\n    const minOctave = -1; // Go one octave down from root\n    const maxOctave = 2; // Go two octaves up from root\n\n    for (let oct = minOctave; oct <= maxOctave; oct++) {\n      maqamFrequencies.forEach(freq => {\n        fullMaqamScale.push(freq * Math.pow(2, oct));\n      });\n    }\n\n    fullMaqamScale.sort((a, b) => a - b);\n    return fullMaqamScale;\n\n  }, []);\n\n  // --- Initialize Synth and Effects ---\n  useEffect(() => {\n    if (!synth.current) {\n      // Create master gain node\n      gainNode.current = new Tone.Gain(0.5);\n\n      // Create effects\n      delayEffect.current = new Tone.FeedbackDelay(\"8n\", delayFeedback).set({ wet: 0 });\n      reverbEffect.current = new Tone.Reverb({ decay: 1.5, wet: 0.05 }).set({ wet: 0 });\n      limiter.current = new Tone.Limiter(-6); // -6 dB threshold, prevents clipping\n\n      // Chain: Synth -> Delay -> Reverb -> Limiter -> Gain -> Destination\n      synth.current = new Tone.PolySynth(Tone.Synth, {\n        oscillator: { type: oscillatorType },\n        envelope: { attack, decay, sustain, release }, // Use state variables\n      }).chain(delayEffect.current, reverbEffect.current, limiter.current, gainNode.current, Tone.Destination);\n\n      // Start Tone.js context on first user interaction\n      const startAudio = () => {\n        if (Tone.context.state !== 'running') {\n          Tone.start();\n          console.log('Audio context started.');\n        }\n        document.removeEventListener('keydown', startAudio);\n        document.removeEventListener('click', startAudio);\n      };\n      document.addEventListener('keydown', startAudio);\n      document.addEventListener('click', startAudio);\n    }\n  }, []); // Empty dependency array: runs only once on mount\n\n  // --- Update Maqam Notes ---\n  useEffect(() => {\n    const newRootFrequency = ROOT_FREQUENCY * Math.pow(2, rootNoteOffset);\n    const newNotes = calculateMaqamFrequencies(currentMaqam, newRootFrequency);\n    setMaqamNotes(newNotes);\n    console.log(`Maqam: ${currentMaqam}, Root Freq: ${newRootFrequency}, Notes:`, newNotes.map(n => n.toFixed(2)));\n  }, [currentMaqam, rootNoteOffset, calculateMaqamFrequencies]);\n\n  // --- Update Synth Parameters (ADSR, Oscillator Type) ---\n  useEffect(() => {\n    if (synth.current) {\n      synth.current.set({\n        oscillator: { type: oscillatorType },\n        envelope: { attack, decay, sustain, release },\n      });\n    }\n  }, [oscillatorType, attack, decay, sustain, release]);\n\n  // --- Update Delay Effect ---\n  useEffect(() => {\n    if (delayEffect.current) {\n      delayEffect.current.wet.value = delayAmount;\n      delayEffect.current.feedback.value = delayFeedback;\n    }\n  }, [delayAmount, delayFeedback]);\n\n  // --- Update Reverb Effect ---\n  useEffect(() => {\n    if (reverbEffect.current) {\n      reverbEffect.current.wet.value = reverbAmount;\n    }\n  }, [reverbAmount]);\n\n  // --- Play/Release Notes ---\n  const triggerAttack = useCallback((frequency, key) => {\n    if (synth.current && !activeNotes.current.has(key)) { // Only attack if not already playing\n      synth.current.triggerAttack(frequency);\n      activeNotes.current.set(key, frequency);\n    }\n  }, []);\n\n  const triggerRelease = useCallback((key) => {\n    if (synth.current && activeNotes.current.has(key)) {\n      const frequency = activeNotes.current.get(key);\n      synth.current.triggerRelease(frequency);\n      activeNotes.current.delete(key);\n    }\n  }, []);\n\n  // --- Keyboard Event Listeners ---\n  useEffect(() => {\n    const baseOctaveKeys = ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l', 'ş'];\n    const octaveDownKeys = ['z', 'x', 'c', 'v', 'b', 'n', 'm', 'ö', 'ç'];\n    const octaveUpKeys = ['q', 'w', 'e', 'r', 't', 'y', 'u', 'ı', 'o'];\n\n    const handleKeyDown = (e) => {\n      const key = e.key.toLowerCase();\n      // Only process keys if they are part of our synth mapping\n      if (![...baseOctaveKeys, ...octaveDownKeys, ...octaveUpKeys].includes(key)) {\n        return;\n      }\n      e.preventDefault(); // Prevent default browser actions for synth keys\n\n      const currentMaqamScaleLength = tMaqamsIntervals[currentMaqam]?.length + 1;\n\n      let baseKeyIndex = -1;\n      let octaveSlot = -1; // -1 for octave down keys, 0 for base keys, 1 for octave up keys (relative to fullMaqamScale generation)\n\n      if (baseOctaveKeys.includes(key)) {\n        baseKeyIndex = baseOctaveKeys.indexOf(key);\n        octaveSlot = 1; // Corresponds to the *second* octave generated in fullMaqamScale (index 1)\n      } else if (octaveDownKeys.includes(key)) {\n        baseKeyIndex = octaveDownKeys.indexOf(key);\n        octaveSlot = 0; // Corresponds to the *first* octave generated in fullMaqamScale (index 0)\n      } else if (octaveUpKeys.includes(key)) {\n        baseKeyIndex = octaveUpKeys.indexOf(key);\n        octaveSlot = 2; // Corresponds to the *third* octave generated in fullMaqamScale (index 2)\n      }\n\n      if (baseKeyIndex !== -1 && maqamNotes.length > 0) {\n        const absoluteNoteIndex = (octaveSlot * currentMaqamScaleLength) + baseKeyIndex;\n\n        if (absoluteNoteIndex >= 0 && absoluteNoteIndex < maqamNotes.length) {\n          triggerAttack(maqamNotes[absoluteNoteIndex], key);\n        } else {\n          console.warn(`Key \"${key}\" maps to an out-of-bounds note index: ${absoluteNoteIndex}. Maqam notes length: ${maqamNotes.length}. Current Maqam Scale Length: ${currentMaqamScaleLength}`);\n        }\n      }\n    };\n\n    const handleKeyUp = (e) => {\n      const key = e.key.toLowerCase();\n      // Only process keys if they are part of our synth mapping\n      if (![...baseOctaveKeys, ...octaveDownKeys, ...octaveUpKeys].includes(key)) {\n        return;\n      }\n      e.preventDefault(); // Prevent default browser actions\n      triggerRelease(key);\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n      // Clear any remaining active notes when component unmounts\n      activeNotes.current.clear();\n    };\n  }, [maqamNotes, currentMaqam, triggerAttack, triggerRelease]); // Added triggerAttack/Release to dependencies\n\n  return (\n    <div className=\"maqam-synth-container\">\n      <h1>Turkish Maqam Synthesizer</h1>\n      <SynthControls\n        currentMaqam={currentMaqam}\n        setCurrentMaqam={setCurrentMaqam}\n        tMaqamsIntervals={tMaqamsIntervals}\n        rootNoteOffset={rootNoteOffset}\n        setRootNoteOffset={setRootNoteOffset}\n        oscillatorType={oscillatorType}\n        setOscillatorType={setOscillatorType}\n        attack={attack}\n        setAttack={setAttack}\n        decay={decay}\n        setDecay={setDecay}\n        sustain={sustain}\n        setSustain={setSustain}\n        release={release}\n        setRelease={setRelease}\n        delayAmount={delayAmount}\n        setDelayAmount={setDelayAmount}\n        delayFeedback={delayFeedback}\n        setDelayFeedback={setDelayFeedback}\n        reverbAmount={reverbAmount}\n        setReverbAmount={setReverbAmount}\n      />\n      <MaqamNoteDisplay \n        maqamNotes={maqamNotes} \n        frequencyToNoteName={frequencyToNoteName} \n        activeNotes={activeNotes.current}\n      />\n      <KeyboardInfo />\n    </div>\n  );\n};\n\nexport default MaqamSynth;\n","// src/App.js\nimport React from 'react';\nimport './App.css';\n\nimport MaqamSynth from './components/MaqamSynth'; // <--- Make sure this import is here\n\nfunction App() {\n  return (\n    <div>\n      <MaqamSynth /> {/* <--- Make sure this component is rendered here */}\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);"],"sourceRoot":""}